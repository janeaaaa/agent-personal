# 前端演示指南

## 🎨 UI 修复说明

### 修复的问题

1. **CSS 颜色变量格式**
   - ❌ 旧格式：使用十六进制 `#4A00E0` 和 `rgba()`
   - ✅ 新格式：使用 HSL `260 100% 44%`（Tailwind 期望格式）

2. **主题颜色**
   - **主色（Primary）**: `260 100% 44%` - 深紫色 (#4A00E0)
   - **强调色（Accent）**: `190 100% 50%` - 青色 (#00D9FF)
   - **背景色（Background）**: `248 14% 18%` - 深色背景

3. **聊天输入框**
   - 修复了输入框背景色和文本颜色
   - 添加了 placeholder 样式
   - 添加了禁用状态样式

4. **页面高度问题**
   - 添加了 `html`, `body`, `#root` 的 `height: 100%`
   - 确保内容填满整个视口

## 🎬 演示流程

### 完整的用户体验流程

#### 1. 初始状态（0-3秒）
- **左侧**：显示上传区域
  - 虚线边框的拖放区
  - "拖放文件到这里" 提示
  - "选择文件" 按钮（紫色渐变）
  - 支持 PDF、PNG、JPG 格式

- **右侧**：聊天面板
  - 显示"等待文档上传"空状态
  - 输入框禁用状态
  - 提示："上传文档并完成索引后，您就可以开始提问了"

#### 2. 上传阶段（3-5秒）
用户点击"选择文件"或拖放文件后：
- 显示上传进度条
- 文件图标动画（脉冲效果）
- 进度百分比实时更新
- 自动进入索引阶段

#### 3. 索引阶段（5-8秒）
4 个步骤的动画流程：
- ✅ **上传** - 青色图标，完成状态
- 🔄 **解析** - 脉冲动画，进行中
- ⏳ **嵌入** - 灰色，等待中
- ⏳ **完成** - 灰色，等待中

每个阶段依次激活，带有：
- 渐变紫色背景（激活状态）
- 青色边框（完成状态）
- 平滑的缩放动画
- 连接线进度指示

#### 4. 完成状态（8秒后）
- **成功提示弹窗**
  - 绿色渐变背景
  - "索引构建成功 ✅"
  - "准备就绪，可以开始问答"
  - 3秒后自动消失

- **左侧**：显示文档内容
  - **文档预览标签页**
    - "原始 PDF" - 显示 PDF 文件预览
    - "解析布局" - 显示识别的文本、表格、图像区块
  - **提取摘要卡片**
    - 文本：245 项（蓝色）
    - 表格：12 项（绿色）
    - 公式：8 项（紫色）
    - 图像：23 项（粉色）
    - 点击可查看详细内容
  - **重新上传按钮** - 右上角，重置整个流程

- **右侧**：聊天面板激活
  - 自动加载示例对话
  - 输入框变为可用状态
  - 示例问答：
    ```
    用户：这篇研究论文的主要发现是什么？

    AI：这篇研究论文提出了三个主要发现：
    1. 所提出的方法在多模态内容提取中达到了95%的准确率【1】
    2. 与传统方法相比，处理时间减少了40%【2】
    3. 系统成功处理了包括表格和公式在内的复杂布局【3】
    ```
  - 引用标记可点击展开：
    - 显示来源文件和页码
    - 显示原文片段
    - 显示内容类型（文本/表格/图像）
    - "在上下文中查看"链接

#### 5. 交互功能
- **提问**：输入框支持多行输入，Enter 发送
- **引用追踪**：点击数字标记【1】【2】【3】查看引用详情
- **重置**：点击"重新上传"按钮重新开始演示

## 🎨 UI 设计特点

### 配色方案
- **深色主题** - 提供舒适的视觉体验
- **渐变效果**
  - 背景：`from-[#1E1E2F] via-[#252538] to-[#1E1E2F]`
  - 按钮：`from-primary to-purple-600`
  - 装饰光效：模糊的圆形光晕

### 动画效果
- **Framer Motion**
  - 页面切换：淡入淡出 + 上下移动
  - 成功提示：缩放 + 淡入
  - 索引步骤：脉冲 + 缩放动画
- **过渡效果**
  - 悬停：阴影和缩放
  - 焦点：边框颜色和光环
  - 所有动画：300ms 流畅过渡

### 玻璃拟态设计
- 半透明背景：`bg-card/30`, `bg-card/50`
- 背景模糊：`backdrop-blur-sm`
- 柔和边框：`border-border` (白色 10% 透明度)
- 阴影：`shadow-lg`, 自定义发光效果

### 响应式布局
- **桌面**（lg 以上）：双列并排
  - 左侧：上传与索引
  - 右侧：问答面板
- **移动端**：单列堆叠
  - 两个面板垂直排列
  - 保持所有功能可用

## 🔧 模拟数据说明

所有数据流都是前端模拟的，包括：

1. **上传进度**：每200ms增加10%
2. **索引步骤**：每个步骤有固定延迟（800ms-1500ms）
3. **文档内容**：硬编码的示例数据
4. **AI 回答**：预设的示例对话
5. **引用信息**：模拟的来源和页码

## 🚀 本地运行

```bash
# 进入项目目录
cd /home/MuyuWorkSpace/02_OcrRag/projects/AgenticRAGOCR/frontend

# 启动开发服务器
npm run dev

# 访问
http://localhost:3000
```

## 📝 后续对接后端

需要替换以下模拟数据的位置：

1. **UploadZone.tsx:35** - `simulateUpload()` 函数
   - 替换为实际的文件上传 API 调用

2. **IndexingProgress.tsx** - 步骤状态更新
   - 从 WebSocket 或轮询 API 获取真实进度

3. **DocumentPreview.tsx** - 文档内容
   - 从 API 加载真实的 PDF 和解析结果

4. **StatsCard.tsx** - 统计数据
   - 从 API 获取实际的提取统计

5. **ChatPanel.tsx:72** - `handleSend()` 函数
   - 调用 FastAPI 的问答接口
   - 处理实时回复流

详见 [README.md](README.md#后端接口对接) 获取 API 对接示例代码。

## 🎯 演示技巧

1. **首次加载**：自动播放完整流程，展示所有 UI 状态
2. **重置演示**：点击"重新上传"按钮重新开始
3. **互动提问**：在示例对话后可以继续提问（会显示模拟回复）
4. **引用展示**：点击消息中的数字标记查看引用详情
5. **统计详情**：点击统计卡片查看提取内容的详细列表

## ✅ 完成的功能清单

- [x] 完整的 CSS 颜色变量修复（HSL 格式）
- [x] 输入框样式和禁用状态
- [x] 页面高度和布局修复
- [x] 空状态提示（等待文档上传）
- [x] 自动演示流程（8秒完整流程）
- [x] 重置按钮（重新演示）
- [x] 模拟数据流（上传/索引/预览/统计/问答）
- [x] 响应式布局
- [x] 流畅动画效果
- [x] 引用追踪功能
- [x] 统计卡片交互

所有 UI 设计已完整保留并正确实现！🎉
